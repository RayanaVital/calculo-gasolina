<meta charset="UTF-8">
<script>

    function quebraLinha() {
        document.write("<br>");
    }

    function mostra(texto) {
        document.write(texto);
        quebraLinha();
    }

    function mostraResultado(consumoNecessarioLitros, menorValor, media, gastoDiario) {

        mostra("O consumo necessário para esse trajeto é " + consumoNecessarioLitros + " litros.");
        mostra("O menor valor pesquisado é R$ " + menorValor + ".");
        mostra("A média dos valores pesquisados é R$ " + media + ".");
        mostra("O gasto diario (ida e volta) é R$ " + gastoDiario + ".");

    }

    function obterValorPesquisado(numeroPosto) {
        return parseFloat(prompt("Digite o valor encontrado (em R$) no posto " + numeroPosto + "."));

    }


    function IsValorNan(valorPesquisado, numeroPosto){

        while (isNaN(valorPesquisado)) {
            alert("Erro, valor não numerico digitado!");

            valorPesquisado = obterValorPesquisado(numeroPosto);
            console.log("valor pesquisado: ", valorPesquisado);


        }

        return valorPesquisado;


    }

    let distanciaPercorrida = parseFloat(prompt("Qual a distância percorrida da sua casa até seu trabalho (em km)?"));
    let consumoVeiculo = parseFloat(prompt("Qual o consumo médio do seu veiculo (em km/L)?"));
    let consumoNecessarioLitros = (distanciaPercorrida / consumoVeiculo);
    let quantidadePostos = parseInt(prompt("Em quantos postos você pesquisou ? "));
    let valorPesquisado;
    let menorValor;
    let somaTotalValoresPesquisados = 0;

    let valores = [];

    for (let i = 0; i < quantidadePostos; i++) {
        let numeroPosto = (i + 1);
        valorPesquisado = valorIsNan(valorPesquisado, numeroPosto);

        valores.push(valorPesquisado);

       
       
       
        // if (menorValor == undefined) {
        //     menorValor = valorPesquisado;
        // } else if (menorValor > valorPesquisado) {
        //     menorValor = valorPesquisado;
        // }
    }

    menorValor = Math.min(...valores);

    for (var posicao = 0; posicao < valores.length; posicao++) {

        somaTotalValoresPesquisados += valores[posicao];
        console.log("soma total: ", somaTotalValoresPesquisados);
        
    }

    let media = (somaTotalValoresPesquisados / quantidadePostos);
    let gastoDiario = 2 * (consumoNecessarioLitros * menorValor);

    mostraResultado(consumoNecessarioLitros, menorValor, media, gastoDiario);

</script>